sequenceDiagram
    participant User as Người dùng
    participant Blazor as WebBlazor (UI)
    participant API as UserController
    participant Service as UsUserService
    participant DB as SQL Server

    User->>Blazor: Nhập thông tin & Lưu
    Blazor->>API: POST /api/User (với JWT Token)
    API->>Service: Create(model)
    Service->>DB: Kiểm tra trùng UserName
    DB-->>Service: OK
    Service->>Service: Bắt đầu Transaction
    loop Sinh ID duy nhất
        Service->>Service: Sinh ngẫu nhiên ID (8 ký tự)
        Service->>DB: Kiểm tra ID tồn tại
    end
    Service->>Service: SHA1 Hash Password & Gán thông tin Audit
    Service->>DB: Insert UsUser Table
    Service->>DB: Commit Transaction
    DB-->>Service: Success
    Service-->>API: Trả về UsUserViewModel
    API-->>Blazor: 201 Created
    Blazor-->>User: Hiển thị thông báo & Refresh Table